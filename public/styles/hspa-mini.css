/*! hspa-mini.css v1.1.0 | Lightweight CSS framework for HSPA pages */
/*  Built on HSPA's injected --theme-* and --font-* CSS variables.  */
/*  Load via: <link rel="stylesheet" href="/plugins/sy-f-misc/styles/hspa-mini.css"> */

/* ========================================
   0. Semantic Variables
   ======================================== */

:root {
    /* Font sizes */
    --fs: var(--font-size, 14px);
    --fs-xs: calc(var(--fs) * 0.78);
    --fs-sm: calc(var(--fs) * 0.88);
    --fs-lg: calc(var(--fs) * 1.2);
    --fs-xl: calc(var(--fs) * 1.5);

    /* Spacing scale: 4px base, ×N — note: --sp-8 = 32px, 28px intentionally skipped */
    --sp-1: 4px;
    --sp-2: 8px;
    --sp-3: 12px;
    --sp-4: 16px;
    --sp-5: 20px;
    --sp-6: 24px;
    --sp-8: 32px;

    /* Radius */
    --radius-sm: 3px;
    --radius: 6px;
    --radius-lg: 10px;
    --radius-full: 9999px;

    /* Colors — mapped from injected theme */
    --c-bg: var(--theme-background, #ffffff);
    --c-fg: var(--theme-on-background, #333333);
    --c-fg-muted: var(--theme-on-surface-light, #666666);
    --c-accent: var(--theme-primary, #d23f31);
    --c-accent-light: var(--theme-primary-light, #ef9a9a);
    --c-accent-bg: var(--theme-primary-lightest, #ffe8e6);
    --c-on-accent: var(--theme-on-primary, #ffffff);
    --c-surface: var(--theme-surface, #f8f8f8);
    --c-surface-hover: var(--theme-surface-light, #f0f0f0);
    --c-border: var(--theme-surface-lighter, #e0e0e0);

    /* Functional colors */
    --c-success: #34a853;
    --c-error: #d93025;
    --c-warning: #f9ab00;
    --c-info: #4285f4;

    /* Functional color backgrounds (pre-computed, avoids color-mix compatibility issues) */
    --c-success-bg: rgba(52, 168, 83, 0.12);
    --c-error-bg: rgba(217, 48, 37, 0.12);
    --c-warning-bg: rgba(249, 171, 0, 0.12);
    --c-info-bg: rgba(66, 133, 244, 0.12);
    --c-error-hover: rgba(217, 48, 37, 0.08);
    --c-success-hover: rgba(52, 168, 83, 0.08);

    /* Shadows */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
    --shadow: 0 2px 8px rgba(0,0,0,0.1);
    --shadow-lg: 0 4px 16px rgba(0,0,0,0.12);

    /* Transitions */
    --transition: 0.15s ease;
}

[data-theme-mode="dark"] {
    --c-success: #4caf50;
    --c-error: #f28b82;
    --c-warning: #fdd663;
    --c-info: #8ab4f8;
    --c-success-bg: rgba(76, 175, 80, 0.15);
    --c-error-bg: rgba(242, 139, 130, 0.15);
    --c-warning-bg: rgba(253, 214, 99, 0.15);
    --c-info-bg: rgba(138, 180, 248, 0.15);
    --c-error-hover: rgba(242, 139, 130, 0.1);
    --c-success-hover: rgba(76, 175, 80, 0.1);
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.25);
    --shadow: 0 2px 8px rgba(0,0,0,0.35);
    --shadow-lg: 0 4px 16px rgba(0,0,0,0.4);
}

/* ========================================
   1. Reset & Base
   ======================================== */

*, *::before, *::after { box-sizing: border-box; }

/* Global scrollbar: Firefox */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--c-border) transparent;
}

body {
    margin: 0;
    padding: 0;
    font-family: var(--font-family, sans-serif);
    font-size: var(--fs);
    background-color: var(--c-bg);
    color: var(--c-fg);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
}

pre, code {
    font-family: var(--font-family-code, monospace);
}

a { color: var(--c-accent); text-decoration: none; }
a:hover { text-decoration: underline; }

img { display: block; max-width: 100%; }

/* ========================================
   2. Typography
   ======================================== */

.text-xs  { font-size: var(--fs-xs); }
.text-sm  { font-size: var(--fs-sm); }
.text-base { font-size: var(--fs); }
.text-lg  { font-size: var(--fs-lg); }
.text-xl  { font-size: var(--fs-xl); }

.text-muted   { color: var(--c-fg-muted); }
.text-accent  { color: var(--c-accent); }
.text-success { color: var(--c-success); }
.text-error   { color: var(--c-error); }
.text-warning { color: var(--c-warning); }

.text-bold   { font-weight: 600; }
.text-center { text-align: center; }
.text-right  { text-align: right; }
.text-nowrap { white-space: nowrap; }
.text-break  { word-break: break-word; overflow-wrap: break-word; }
.text-mono   { font-family: var(--font-family-code, monospace); }
.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ========================================
   3. Layout Utilities
   ======================================== */

/* Flex */
.flex      { display: flex; }
.flex-col  { display: flex; flex-direction: column; }
.flex-row  { display: flex; flex-direction: row; }
.flex-wrap { display: flex; flex-wrap: wrap; }
.flex-1    { flex: 1; min-width: 0; }
.flex-none { flex: none; }
.flex-shrink-0 { flex-shrink: 0; }

/* Alignment */
.items-start   { align-items: flex-start; }
.items-center  { align-items: center; }
.items-end     { align-items: flex-end; }
.items-stretch { align-items: stretch; }
.justify-start   { justify-content: flex-start; }
.justify-center  { justify-content: center; }
.justify-end     { justify-content: flex-end; }
.justify-between { justify-content: space-between; }

/* Compound shortcuts */
.flex-center { display: flex; align-items: center; justify-content: center; }
.flex-between { display: flex; align-items: center; justify-content: space-between; }

/* Gap */
.gap-1 { gap: var(--sp-1); }
.gap-2 { gap: var(--sp-2); }
.gap-3 { gap: var(--sp-3); }
.gap-4 { gap: var(--sp-4); }
.gap-6 { gap: var(--sp-6); }
.gap-8 { gap: var(--sp-8); }

/* Grid */
.grid { display: grid; gap: var(--sp-4); }
.grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
.grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
.grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
.grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}

/* Grid responsive fallback: collapse to single column on narrow viewports */
@media (max-width: 480px) {
    .grid-cols-2,
    .grid-cols-3,
    .grid-cols-4 {
        grid-template-columns: 1fr;
    }
}

/* Overflow */
.overflow-hidden { overflow: hidden; }
.overflow-auto   { overflow: auto; }
.scroll-y { overflow-y: auto; overflow-x: hidden; }

/* Spacing (margin/padding) */
.p-0 { padding: 0; }
.p-1 { padding: var(--sp-1); }
.p-2 { padding: var(--sp-2); }
.p-3 { padding: var(--sp-3); }
.p-4 { padding: var(--sp-4); }
.p-6 { padding: var(--sp-6); }
.px-2 { padding-left: var(--sp-2); padding-right: var(--sp-2); }
.px-4 { padding-left: var(--sp-4); padding-right: var(--sp-4); }
.py-2 { padding-top: var(--sp-2); padding-bottom: var(--sp-2); }
.py-4 { padding-top: var(--sp-4); padding-bottom: var(--sp-4); }

.m-0 { margin: 0; }
.m-auto { margin: auto; }
.mx-auto { margin-left: auto; margin-right: auto; }
.mt-2 { margin-top: var(--sp-2); }
.mt-4 { margin-top: var(--sp-4); }
.mb-2 { margin-bottom: var(--sp-2); }
.mb-4 { margin-bottom: var(--sp-4); }

/* Size */
.w-full  { width: 100%; }
.h-full  { height: 100%; }
.h-screen { height: 100vh; }
.max-w-sm  { max-width: 480px; }
.max-w-md  { max-width: 680px; }
.max-w-lg  { max-width: 960px; }
.max-w-xl  { max-width: 1200px; }

/* Display */
.hidden  { display: none; }
.block   { display: block; }
.inline  { display: inline; }

/* ========================================
   4. Page Structure
   ======================================== */

/* Full-page layout: <body class="page"> → header + body + footer */
.page {
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.page-header {
    padding: var(--sp-4);
    border-bottom: 1px solid var(--c-border);
    background-color: var(--c-bg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
    z-index: 10;
}

.page-body {
    flex: 1;
    overflow-y: auto;
    padding: var(--sp-4);
}

.page-footer {
    padding: var(--sp-4);
    border-top: 1px solid var(--c-border);
    background-color: var(--c-bg);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: var(--sp-2);
    flex-shrink: 0;
}

/* Modifier: footer with left info + right buttons.
   Usage: class="page-footer page-footer--between" */
.page-footer.page-footer--between {
    justify-content: space-between;
}

/* ========================================
   5. Card
   ======================================== */

.card {
    background-color: var(--c-surface);
    border: 1px solid var(--c-border);
    border-radius: var(--radius);
    padding: var(--sp-3);
}

/* Opt-in hover effect for interactive cards */
.card-hover {
    transition: box-shadow var(--transition);
}
.card-hover:hover {
    box-shadow: var(--shadow);
}

.card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: var(--sp-2);
}

.card-body {
    margin-bottom: var(--sp-2);
}

.card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: var(--sp-2);
    border-top: 1px solid var(--c-border);
}

/* ========================================
   6. Buttons
   ======================================== */

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--sp-1);
    padding: var(--sp-2) var(--sp-3);
    border: 1px solid var(--c-border);
    border-radius: var(--radius-sm);
    background-color: var(--c-surface);
    color: var(--c-fg);
    font-family: inherit;
    font-size: var(--fs-sm);
    line-height: 1.4;
    cursor: pointer;
    user-select: none;
    white-space: nowrap;
    transition: background-color var(--transition), border-color var(--transition), opacity var(--transition), box-shadow var(--transition);
}

.btn:hover { background-color: var(--c-surface-hover); }
.btn:active { opacity: 0.7; }
.btn:focus-visible {
    outline: 2px solid var(--c-accent);
    outline-offset: 2px;
}
.btn:disabled, .btn[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* Variants */
.btn-primary {
    background-color: var(--c-accent);
    color: var(--c-on-accent);
    border-color: var(--c-accent);
}
.btn-primary:hover {
    opacity: 0.85;
    background-color: var(--c-accent);
}

.btn-danger {
    color: var(--c-error);
    border-color: currentColor;
    background-color: transparent;
}
.btn-danger:hover {
    background-color: var(--c-error-hover);
}

.btn-success {
    color: var(--c-success);
    border-color: currentColor;
    background-color: transparent;
}
.btn-success:hover {
    background-color: var(--c-success-hover);
}

/* Ghost: no border, no bg */
.btn-ghost {
    border-color: transparent;
    background-color: transparent;
}
.btn-ghost:hover { background-color: var(--c-surface-hover); }

/* Icon-only button */
.btn-icon {
    padding: var(--sp-1);
    border-color: transparent;
    background-color: transparent;
    border-radius: var(--radius-sm);
}
.btn-icon:hover { background-color: var(--c-surface-hover); }

/* Sizes */
.btn-sm {
    padding: var(--sp-1) var(--sp-2);
    font-size: var(--fs-xs);
}
.btn-lg {
    padding: var(--sp-3) var(--sp-5);
    font-size: var(--fs);
}

/* Button group */
.btn-group {
    display: inline-flex;
    gap: var(--sp-2);
}

/* ========================================
   7. Form Controls
   ======================================== */

.input, .select, .textarea {
    width: 100%;
    padding: var(--sp-2) var(--sp-3);
    border: 1px solid var(--c-border);
    border-radius: var(--radius-sm);
    background-color: var(--c-bg);
    color: var(--c-fg);
    font-family: inherit;
    font-size: var(--fs);
    line-height: 1.5;
    transition: border-color var(--transition);
}

.input:focus, .select:focus, .textarea:focus {
    outline: none;
    border-color: var(--c-accent);
}

.input:focus-visible, .select:focus-visible, .textarea:focus-visible {
    outline: 2px solid var(--c-accent);
    outline-offset: -1px;
}

.input::placeholder, .textarea::placeholder {
    color: var(--c-fg-muted);
}

.textarea {
    resize: vertical;
    min-height: 80px;
}

.select {
    appearance: auto;
    cursor: pointer;
}

/* Checkbox / Radio row */
.check-row {
    display: flex;
    align-items: center;
    gap: var(--sp-2);
    padding: var(--sp-2);
    border-radius: var(--radius-sm);
    cursor: pointer;
}
.check-row:hover { background-color: var(--c-surface-hover); }

/* Form group: label + control */
.form-group {
    display: flex;
    flex-direction: column;
    gap: var(--sp-1);
}

.form-label {
    font-size: var(--fs-sm);
    font-weight: 500;
    color: var(--c-fg);
}

.form-hint {
    font-size: var(--fs-xs);
    color: var(--c-fg-muted);
}

/* Inline form row */
.form-row {
    display: flex;
    align-items: center;
    gap: var(--sp-3);
}

/* ========================================
   8. Badge & Tag
   ======================================== */

.badge {
    display: inline-flex;
    align-items: center;
    padding: 1px var(--sp-2);
    border-radius: var(--radius-full);
    font-size: var(--fs-xs);
    line-height: 1.6;
    font-weight: 500;
    background-color: var(--c-surface);
    color: var(--c-fg-muted);
}

.badge-accent {
    background-color: var(--c-accent-bg);
    color: var(--c-accent);
}

.badge-success { background-color: var(--c-success-bg); color: var(--c-success); }
.badge-error   { background-color: var(--c-error-bg);   color: var(--c-error); }
.badge-warning { background-color: var(--c-warning-bg); color: var(--c-warning); }
.badge-info    { background-color: var(--c-info-bg);    color: var(--c-info); }

.tag {
    display: inline-flex;
    align-items: center;
    padding: 1px var(--sp-2);
    border-radius: var(--radius-sm);
    font-size: var(--fs-xs);
    background-color: var(--c-surface);
    color: var(--c-fg-muted);
}

/* ========================================
   9. List
   ======================================== */

.list {
    display: flex;
    flex-direction: column;
}

.list-item {
    display: flex;
    align-items: center;
    gap: var(--sp-2);
    padding: var(--sp-2) var(--sp-3);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: background-color var(--transition);
}
.list-item:hover { background-color: var(--c-surface-hover); }
.list-item.active, .list-item.selected {
    background-color: var(--c-accent-bg);
}

/* Divider between items */
.list-divided > .list-item + .list-item {
    border-top: 1px solid var(--c-border);
    border-radius: 0;
}

/* ========================================
   10. Divider
   ======================================== */

.divider {
    border: none;
    border-top: 1px solid var(--c-border);
    margin: var(--sp-3) 0;
}

/* ========================================
   11. Empty State
   ======================================== */

.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--sp-8);
    color: var(--c-fg-muted);
    gap: var(--sp-4);
    min-height: 200px;
}

.empty-state .empty-icon {
    width: 64px;
    height: 64px;
    opacity: 0.4;
    fill: currentColor;
}

/* ========================================
   12. Code Block
   ======================================== */

.code-block {
    background-color: var(--c-surface);
    border: 1px solid var(--c-border);
    border-radius: var(--radius-sm);
    padding: var(--sp-3);
    font-family: var(--font-family-code, monospace);
    font-size: var(--fs-sm);
    line-height: 1.5;
    white-space: pre-wrap;
    word-break: break-word;
    overflow: auto;
    max-height: 300px;
}

code:not(.code-block) {
    padding: 1px var(--sp-1);
    background-color: var(--c-surface);
    border-radius: var(--radius-sm);
    font-family: var(--font-family-code, monospace);
    font-size: 0.9em;
}

/* ========================================
   13. Table
   ======================================== */

.table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--fs);
}

.table th, .table td {
    padding: var(--sp-2) var(--sp-3);
    text-align: left;
    border-bottom: 1px solid var(--c-border);
}

.table th {
    font-weight: 600;
    font-size: var(--fs-sm);
    color: var(--c-fg-muted);
    background-color: var(--c-surface);
}

.table tbody tr:hover {
    background-color: var(--c-surface-hover);
}

.table-striped tbody tr:nth-child(even) {
    background-color: var(--c-surface);
}

/* ========================================
   14. Icon
   ======================================== */

/* SVG icon — always requires explicit .icon class; no global svg reset */
.icon {
    display: inline-block;
    width: 1em;
    height: 1em;
    fill: currentColor;
    flex-shrink: 0;
    vertical-align: middle;
}

.icon-sm { width: 14px; height: 14px; }
.icon-md { width: 18px; height: 18px; }
.icon-lg { width: 24px; height: 24px; }

/* ========================================
   15. Scrollbar (WebKit)
   ======================================== */

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-thumb {
    background: var(--c-border);
    border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
    background: var(--c-fg-muted);
}
::-webkit-scrollbar-track { background: transparent; }

/* ========================================
   16. Utilities
   ======================================== */

.rounded    { border-radius: var(--radius); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-full { border-radius: var(--radius-full); }

.border     { border: 1px solid var(--c-border); }
.border-b   { border-bottom: 1px solid var(--c-border); }
.border-t   { border-top: 1px solid var(--c-border); }

.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow    { box-shadow: var(--shadow); }
.shadow-lg { box-shadow: var(--shadow-lg); }

.cursor-pointer { cursor: pointer; }
.select-none    { user-select: none; }
.opacity-50     { opacity: 0.5; }

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0,0,0,0);
    border: 0;
}
